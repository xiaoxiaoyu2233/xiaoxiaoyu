local CoreGui = game:GetService("StarterGui") -- Variable of StarterGui

CoreGui:SetCore("SendNotification", {
    -- Customizable
    Title = "白名单认证",
    Text = "白名单验证...",
    Duration = 3, --时间
})

local CoreGui = game:GetService("StarterGui") -- Variable of StarterGui

local Whitelisted = false;

if game.Players.LocalPlayer.Name == "玩家用户名1" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "玩家用户名2" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "dujianjjjjjj" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "vcgfd9" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "pichenghhh_i" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "dashenyyds" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "JiuYita" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ifw215" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "123yyds45" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ffghjhfjf2" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "jOKskdJp4XrW9Kt" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "dujianjjjj" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ddddfDSDC" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ceshi666" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "max_nn227" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "tapqnd" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "vpn_kerot" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ikng_NoOb3" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "sbsbcnm114" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "lhxxxxxxxx" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "lovejingru" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "wsbbhhhhhhhhhh" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "4v5n7n" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "zhao1234_8" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "nxihendi" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "KSXuHal" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ngbdbfdf3" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "yunbuyan" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "xichenshuo2" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "neigedog" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "hpk2006hpk" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ikun5112" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "sanren210" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "xuxuemo" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "KWERGDAJZD" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "zyz15679461589" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "liangjiayi20" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ughIDGghhc" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "123yyds45" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "sjjhcja" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "mesbme" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "nbbx222" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "tcuhcugxug" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "qw87656" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "helplessnesso" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "sun1234sun123455" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "sjjhcja123" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "yhhdhda" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ikuncnmb0" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "xuxuemo1" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ifw215n" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "Rakky110409" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ddddfDSDC" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "Chinese_254" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "Diaodes1145140" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "BianGGOOO" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "china_5643" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "cyyfdrsegc" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "SLYXCLTMKKGk" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "IKUNDOSM" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "awaw577" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "jchgcjt" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "241088736zxcv" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "123dryrud" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "cuimingxin" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "jjjjkkmmdjgjfm" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "helplessnesso" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "MoLulishan" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "CN_xax" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "rgxbuzh" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "16434sueididhs" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "114514ABCdy" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "zxc827591221" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "3649ppjdnss" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "GuangmingRabbit" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "xiao3hao" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "liyiji1m73" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ql777po" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "sjnnhaa" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "kart114514noob1" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "114514ABCdy" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "zxc827591221" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "3649ppjdnss" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "GuangmingRabbit" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "xiao3hao" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "liyiji1m73" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "ql777po" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "sjnnhaa" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "kart114514noob1" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "FLASTUPDATE" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "123123yis" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "dog_furry6" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "HXB20111" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "1145145pppppp" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if game.Players.LocalPlayer.Name == "" then 
Whitelisted = true 
end

if Whitelisted == true then

CoreGui:SetCore("SendNotification", {
    -- Customizable
    Title = "白名单认证",
    Text = "玩家:"..game.Players.LocalPlayer.Name.."，你好小小鱼脚本用户",
    Duration = 9, --时间
}) 
   
  local library = loadstring(game:HttpGet('https://pastebin.com/raw/vPWzQEC8'))()
local plr = game.Players.LocalPlayer
local char = plr.Character or plr.CharacterAdded:Wait()
local hum = char:FindFirstChildOfClass("Humanoid") or char:WaitForChild("Humanoid")
function esp(what,color,core,name)
    local parts
    
    if typeof(what) == "Instance" then
        if what:IsA("Model") then
            parts = what:GetChildren()
        elseif what:IsA("BasePart") then
            parts = {what,table.unpack(what:GetChildren())}
        end
    elseif typeof(what) == "table" then
        parts = what
    end
    
    local bill
    local boxes = {}
    
    for i,v in pairs(parts) do
        if v:IsA("BasePart") then
            local box = Instance.new("BoxHandleAdornment")
            box.Size = v.Size
            box.AlwaysOnTop = true
            box.ZIndex = 1
            box.AdornCullingMode = Enum.AdornCullingMode.Never
            box.Color3 = color
            box.Transparency = 0.7
            box.Adornee = v
            box.Parent = game.CoreGui
            
            table.insert(boxes,box)
            
            task.spawn(function()
                while box do
                    if box.Adornee == nil or not box.Adornee:IsDescendantOf(workspace) then
                        box.Adornee = nil
                        box.Visible = false
                        box:Destroy()
                    end  
                    task.wait()
                end
            end)
        end
    end
    
    if core and name then
        bill = Instance.new("BillboardGui",game.CoreGui)
        bill.AlwaysOnTop = true
        bill.Size = UDim2.new(0,400,0,100)
        bill.Adornee = core
        bill.MaxDistance = 2000
        
        local mid = Instance.new("Frame",bill)
        mid.AnchorPoint = Vector2.new(0.5,0.5)
        mid.BackgroundColor3 = color
        mid.Size = UDim2.new(0,8,0,8)
        mid.Position = UDim2.new(0.5,0,0.5,0)
        Instance.new("UICorner",mid).CornerRadius = UDim.new(1,0)
        Instance.new("UIStroke",mid)
        
        local txt = Instance.new("TextLabel",bill)
        txt.AnchorPoint = Vector2.new(0.5,0.5)
        txt.BackgroundTransparency = 1
        txt.BackgroundColor3 = color
        txt.TextColor3 = color
        txt.Size = UDim2.new(1,0,0,20)
        txt.Position = UDim2.new(0.5,0,0.7,0)
        txt.Text = name
        Instance.new("UIStroke",txt)
        
        task.spawn(function()
            while bill do
                if bill.Adornee == nil or not bill.Adornee:IsDescendantOf(workspace) then
                    bill.Enabled = false
                    bill.Adornee = nil
                    bill:Destroy() 
                end  
                task.wait()
            end
        end)
    end
    
    local ret = {}
    
    ret.delete = function()
        for i,v in pairs(boxes) do
            v.Adornee = nil
            v.Visible = false
            v:Destroy()
        end
        
        if bill then
            bill.Enabled = false
            bill.Adornee = nil
            bill:Destroy() 
        end
    end
    
    return ret 
end

local entityinfo = game.ReplicatedStorage:WaitForChild("EntityInfo")
function message(text)
    local msg = Instance.new("Message",workspace)
    msg.Text = tostring(text)
    task.wait(5)
    msg:Destroy()
    
    --firesignal(entityinfo.Caption.OnClientEvent,tostring(text)) 
end

local flags = {
    speed = 0,
    espdoors = false,
    espkeys = false,
    espitems = false,
    espbooks = false,
    esprush = false,
    espchest = false,
    esplocker = false,
    esphumans = false,
    espgold = false,
    goldespvalue = 0,
    hintrush = false,
    light = false,
    instapp = false,
    noseek = false,
    nogates = false,
    nopuzzle = false,
    noa90 = false,
    noskeledoors = false,
    noscreech = false,
    getcode = false,
    roomsnolock = false,
    draweraura = false,
    autorooms = false,
}

local DELFLAGS = {table.unpack(flags)}
local esptable = {doors={},keys={},items={},books={},entity={},chests={},lockers={},people={},gold={}}

local window_player = library.window("玩家")
local window_esp = library.window("透视")
local window_misc = library.window("功能")
local window_funny = library.window("好玩的")

window_misc.button("关闭脚本",function()
    flags = DELFLAGS
    
    task.wait()
    library.delete()
end)

window_misc.label("作者小小鱼我不知道你在看什么",32)
window_funny.label("很好玩但不要随便点",32)


window_funny.toggle("点击有惊喜",false,function(val)
    game.Players.LocalPlayer:Kick("新年快乐")
end)


window_player.toggle("光线",false,function(val)
    flags.light = val
   
    if val then
        local l = Instance.new("PointLight")
        l.Range = 10000
        l.Brightness = 2
        l.Parent = char.PrimaryPart
       
        repeat task.wait() until not flags.light
        l:Destroy() 
    end
end)

window_player.toggle("快速使用",false,function(val)
    flags.instapp = val
    
    local holdconnect
    holdconnect = game:GetService("ProximityPromptService").PromptButtonHoldBegan:Connect(function(p)
		fireproximityprompt(p)
	end)
    
    repeat task.wait() until not flags.instapp
    holdconnect:Disconnect()
end)

local walkspeedslider = window_player.slider("速度",16,25,1,16,function(val)
    hum.WalkSpeed = val
    flags.speed = val
end)

task.spawn(function()
    while true do
        if hum.WalkSpeed < flags.speed then
            hum.WalkSpeed = flags.speed
        end
        
        task.wait()
    end
end)

window_esp.toggle("标记门",false,function(val)
    flags.espdoors = val
    
    if val then
        local function setup(room)
            local door = room:WaitForChild("Door"):WaitForChild("Door")
            
            task.wait(0.1)
            local h = esp(door,Color3.fromRGB(255,240,255),door,"门")
            table.insert(esptable.doors,h)
            
            door:WaitForChild("Open").Played:Connect(function()
                h.delete()
            end)
            
            door.AncestryChanged:Connect(function()
                h.delete()
            end)
        end
        
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            setup(room)
        end)
        
        for i,room in pairs(workspace.CurrentRooms:GetChildren()) do
            if room:FindFirstChild("Assets") then
                setup(room) 
            end
        end
        
        repeat task.wait() until not flags.espdoors
        addconnect:Disconnect()
        
        for i,v in pairs(esptable.doors) do
            v.delete()
        end 
    end
end)

window_esp.toggle("标记钥匙和拉杆",false,function(val)
    flags.espkeys = val
    
    if val then
        local function check(v)
            if v:IsA("Model") and (v.Name == "LeverForGate" or v.Name == "KeyObtain") then
                task.wait(0.1)
                if v.Name == "KeyObtain" then
                    local hitbox = v:WaitForChild("Hitbox")
                    local parts = hitbox:GetChildren()
                    table.remove(parts,table.find(parts,hitbox:WaitForChild("PromptHitbox")))
                    
                    local h = esp(parts,Color3.fromRGB(90,255,255),hitbox,"钥匙")
                    table.insert(esptable.keys,h)
                    
                elseif v.Name == "LeverForGate" then
                    local h = esp(v,Color3.fromRGB(80,255,255),v.PrimaryPart,"拉杆")
                    table.insert(esptable.keys,h)
                    
                    v.PrimaryPart:WaitForChild("SoundToPlay").Played:Connect(function()
                        h.delete()
                    end) 
                end
            end
        end
        
        local function setup(room)
            local assets = room:WaitForChild("Assets")
            
            assets.DescendantAdded:Connect(function(v)
                check(v) 
            end)
                
            for i,v in pairs(assets:GetDescendants()) do
                check(v)
            end 
        end
        
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            setup(room)
        end)
        
        for i,room in pairs(workspace.CurrentRooms:GetChildren()) do
            if room:FindFirstChild("Assets") then
                setup(room) 
            end
        end
        
        repeat task.wait() until not flags.espkeys
        addconnect:Disconnect()
        
        for i,v in pairs(esptable.keys) do
            v.delete()
        end 
    end
end)



window_esp.toggle("标记书和最后一关的东西",false,function(val)
    flags.espbooks = val
    
    if val then
        local function check(v)
            if v:IsA("Model") and (v.Name == "LiveHintBook" or v.Name == "LiveBreakerPolePickup") then
                task.wait(0.1)
                
                local h = esp(v,Color3.fromRGB(160,190,255),v.PrimaryPart,"书")
                table.insert(esptable.books,h)
                
                v.AncestryChanged:Connect(function()
                    if not v:IsDescendantOf(room) then
                        h.delete() 
                    end
                end)
            end
        end
        
        local function setup(room)
            if room.Name == "50" or room.Name == "100" then
                room.DescendantAdded:Connect(function(v)
                    check(v) 
                end)
                
                for i,v in pairs(room:GetDescendants()) do
                    check(v)
                end
            end
        end
        
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            setup(room)
        end)
        
        for i,room in pairs(workspace.CurrentRooms:GetChildren()) do
            setup(room) 
        end
        
        repeat task.wait() until not flags.espbooks
        addconnect:Disconnect()
        
        for i,v in pairs(esptable.books) do
            v.delete()
        end 
    end
end)

local entitynames = {"RushMoving","AmbushMoving","Snare","A60","A120"}


window_esp.toggle("标记箱子",false,function(val)
    flags.espchest = val
    
    if val then
        local function check(v)
            if v:IsA("Model") then
                task.wait(0.1)
                if v.Name == "ChestBox" then
                    warn(v.Name)
                    local h = esp(v,Color3.fromRGB(205,120,255),v.PrimaryPart,"箱子")
                    table.insert(esptable.chests,h) 
                elseif v.Name == "ChestBoxLocked" then
                    local h = esp(v,Color3.fromRGB(255,120,205),v.PrimaryPart,"箱子(上锁")
                    table.insert(esptable.chests,h) 
                end
            end
        end
        
        local function setup(room)
            local subaddcon
            subaddcon = room.DescendantAdded:Connect(function(v)
                check(v) 
            end)
            
            for i,v in pairs(room:GetDescendants()) do
                check(v)
            end
            
            task.spawn(function()
                repeat task.wait() until not flags.espchest
                subaddcon:Disconnect()  
            end)  
        end
        
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            setup(room)
        end)
        
        for i,room in pairs(workspace.CurrentRooms:GetChildren()) do
            if room:FindFirstChild("Assets") then
                setup(room) 
            end
        end
        
        repeat task.wait() until not flags.espchest
        addconnect:Disconnect()
        
        for i,v in pairs(esptable.chests) do
            v.delete()
        end 
    end
end)

window_esp.toggle("标记玩家",false,function(val)
    flags.esphumans = val
    
    if val then
        local function personesp(v)
            v.CharacterAdded:Connect(function(vc)
                local vh = vc:WaitForChild("Humanoid")
                local torso = vc:WaitForChild("UpperTorso")
                task.wait(0.1)
                
                local h = esp(vc,Color3.fromRGB(255,255,255),torso,v.DisplayName)
                table.insert(esptable.people,h) 
            end)
            
            if v.Character then
                local vc = v.Character
                local vh = vc:WaitForChild("Humanoid")
                local torso = vc:WaitForChild("UpperTorso")
                task.wait(0.1)
                
                local h = esp(vc,Color3.fromRGB(255,255,255),torso,v.DisplayName)
                table.insert(esptable.people,h) 
            end
        end
        
        local addconnect
        addconnect = game.Players.PlayerAdded:Connect(function(v)
            if v ~= plr then
                personesp(v)
            end
        end)
        
        for i,v in pairs(game.Players:GetPlayers()) do
            if v ~= plr then
                personesp(v) 
            end
        end
        
        repeat task.wait() until not flags.esphumans
        addconnect:Disconnect()
        
        for i,v in pairs(esptable.people) do
            v.delete()
        end 
    end
end)

window_esp.toggle("标记金砖",false,function(val)
    flags.espgold = val
    
    if val then
        local function check(v)
            if v:IsA("Model") then
                task.wait(0.1)
                local goldvalue = v:GetAttribute("GoldValue")
                
                if goldvalue and goldvalue >= flags.goldespvalue then
                    local hitbox = v:WaitForChild("Hitbox")
                    local h = esp(hitbox:GetChildren(),Color3.fromRGB(255,255,0),hitbox,"金砖 [".. tostring(goldvalue).."]")
                    table.insert(esptable.gold,h)
                end
            end
        end
        
        local function setup(room)
            local assets = room:WaitForChild("Assets")
            
            local subaddcon
            subaddcon = assets.DescendantAdded:Connect(function(v)
                check(v) 
            end)
            
            for i,v in pairs(assets:GetDescendants()) do
                check(v)
            end
            
            task.spawn(function()
                repeat task.wait() until not flags.espchest
                subaddcon:Disconnect()  
            end)  
        end
        
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            setup(room)
        end)
        
        for i,room in pairs(workspace.CurrentRooms:GetChildren()) do
            if room:FindFirstChild("Assets") then
                setup(room) 
            end
        end
        
        repeat task.wait() until not flags.espgold
        addconnect:Disconnect()
        
        for i,v in pairs(esptable.gold) do
            v.delete()
        end 
    end
end)

window_esp.slider("选择标记金砖的数量",5,150,5,25,function(val)
    flags.goldespvalue = val
end)

window_misc.toggle("rush来前提示",false,function(val)
    flags.hintrush = val
    
    if val then
        local addconnect
        addconnect = workspace.ChildAdded:Connect(function(v)
            if table.find(entitynames,v.Name) then
                repeat task.wait() until plr:DistanceFromCharacter(v:GetPivot().Position) < 1000 or not v:IsDescendantOf(workspace)
                
                if v:IsDescendantOf(workspace) then
                    message(v.Name:gsub("Moving",""):lower().."rush来了快躲起来")
                end
            end
        end) 
        
        repeat task.wait() until not flags.hintrush
        addconnect:Disconnect()
    end
end)

window_misc.toggle("自动寻找",false,function(val)
    flags.draweraura = val
    
    if val then
        local function setup(room)
            local function check(v)
                if v:IsA("Model") then
                    if v.Name == "DrawerContainer" then
                        local knob = v:WaitForChild("Knobs")
                        
                        if knob then
                            local prompt = knob:WaitForChild("ActivateEventPrompt")
                            local interactions = prompt:GetAttribute("Interactions")
                            
                            if not interactions then
                                task.spawn(function()
                                    repeat task.wait(0.1)
                                        if plr:DistanceFromCharacter(knob.Position) <= 12 then
                                            fireproximityprompt(prompt)
                                        end
                                    until prompt:GetAttribute("Interactions") or not flags.draweraura
                                end)
                            end
                        end
                    elseif v.Name == "GoldPile" then
                        local prompt = v:WaitForChild("LootPrompt")
                        local interactions = prompt:GetAttribute("Interactions")
                            
                        if not interactions then
                            task.spawn(function()
                                repeat task.wait(0.1)
                                    if plr:DistanceFromCharacter(v.PrimaryPart.Position) <= 12 then
                                        fireproximityprompt(prompt) 
                                    end
                                until prompt:GetAttribute("Interactions") or not flags.draweraura
                            end)
                        end
                    elseif v.Name:sub(1,8) == "ChestBox" then
                        local prompt = v:WaitForChild("ActivateEventPrompt")
                        local interactions = prompt:GetAttribute("Interactions")
                        
                        if not interactions then
                            task.spawn(function()
                                repeat task.wait(0.1)
                                    if plr:DistanceFromCharacter(v.PrimaryPart.Position) <= 12 then
                                        fireproximityprompt(prompt)
                                    end
                                until prompt:GetAttribute("Interactions") or not flags.draweraura
                            end)
                        end
                    elseif v.Name == "RolltopContainer" then
                        local prompt = v:WaitForChild("ActivateEventPrompt")
                        local interactions = prompt:GetAttribute("Interactions")
                        
                        if not interactions then
                            task.spawn(function()
                                repeat task.wait(0.1)
                                    if plr:DistanceFromCharacter(v.PrimaryPart.Position) <= 12 then
                                        fireproximityprompt(prompt)
                                    end
                                until prompt:GetAttribute("Interactions") or not flags.draweraura
                            end)
                        end
                    end 
                end
            end
    
            local subaddcon
            subaddcon = room.DescendantAdded:Connect(function(v)
                check(v) 
            end)
            
            for i,v in pairs(room:GetDescendants()) do
                check(v)
            end
            
            task.spawn(function()
                repeat task.wait() until not flags.draweraura
                subaddcon:Disconnect() 
            end)
        end
        
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            setup(room)
        end)
        
        for i,room in pairs(workspace.CurrentRooms:GetChildren()) do
            if room:FindFirstChild("Assets") then
                setup(room) 
            end
        end
        
        repeat task.wait() until not flags.draweraura
        addconnect:Disconnect()
    end
end)


window_mis.toggle("disable seek chase",false,function(val)
    flags.noseek = val
    
    if val then
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            local trigger = room:WaitForChild("TriggerEventCollision",2)
            
            if trigger then
                trigger:Destroy() 
            end
        end)
        
        repeat task.wait() until not flags.noseek
        addconnect:Disconnect()
    end
end)

window_mis.toggle("delete gates",false,function(val)
    flags.nogates = val
    
    if val then
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            local gate = room:WaitForChild("Gate",2)
            
            if gate then
                local door = gate:WaitForChild("ThingToOpen",2)
                
                if door then
                    door:Destroy() 
                end
            end
        end)
        
        repeat task.wait() until not flags.nogates
        addconnect:Disconnect()
    end
end)

window_mis.toggle("delete puzzle door",false,function(val)
    flags.nopuzzle = val
    
    if val then
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            local assets = room:WaitForChild("Assets")
            local paintings = assets:WaitForChild("Paintings",2)
            
            if paintings then
                local door = paintings:WaitForChild("MovingDoor",2)
            
                if door then
                    door:Destroy() 
                end 
            end
        end)
        
        repeat task.wait() until not flags.nopuzzle
        addconnect:Disconnect()
    end
end)

local screechremote = entityinfo:FindFirstChild("Screech")

if screechremote then
    window_mis.toggle("harmless screech",false,function(val)
        flags.noscreech = val
        
        if val then
            screechremote.Parent = nil
            repeat task.wait() until not flags.noscreech
            screechremote.Parent = entityinfo
        end
    end)
end

window_mis.toggle("no skeleton doors",false,function(val)
    flags.noskeledoors = val
    
    if val then
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            local door = room:WaitForChild("Wax_Door",2)
            
            if door then
                door:Destroy() 
            end
        end)
        
        repeat task.wait() until not flags.noskeledoors
        addconnect:Disconnect()
    end
end)

window_mis.toggle("auto library code",false,function(val)
    flags.getcode = val
    
    if val then
        local function deciphercode()
        local paper = char:FindFirstChild("LibraryHintPaper")
        local hints = plr.PlayerGui:WaitForChild("PermUI"):WaitForChild("Hints")
        
        local code = {[1]="_",[2]="_",[3]="_",[4]="_",[5]="_"}
            
            if paper then
                for i,v in pairs(paper:WaitForChild("UI"):GetChildren()) do
                    if v:IsA("ImageLabel") and v.Name ~= "Image" then
                        for i,img in pairs(hints:GetChildren()) do
                            if img:IsA("ImageLabel") and img.Visible and v.ImageRectOffset == img.ImageRectOffset then
                                local num = img:FindFirstChild("TextLabel").Text
                                
                                code[tonumber(v.Name)] = num 
                            end
                        end
                    end
                end 
            end
            
            return code
        end
        
        local addconnect
        addconnect = char.ChildAdded:Connect(function(v)
            if v:IsA("Tool") and v.Name == "LibraryHintPaper" then
                task.wait()
                
                local code = table.concat(deciphercode())
                
                if code:find("_") then
                    message("get all hints first")
                else
                    message("the code is ".. code)
                end
            end
        end)
        
        repeat task.wait() until not flags.getcode
        addconnect:Disconnect()
    end
end)

window_mis.toggle("A-000 door no locks",false,function(val)
    flags.roomsnolock = val
    
    if val then
        local function check(room)
            local door = room:WaitForChild("RoomsDoor_Entrance",2)
            
            if door then
                local prompt = door:WaitForChild("Door"):WaitForChild("EnterPrompt")
                prompt.Enabled = true
            end 
        end
        
        local addconnect
        addconnect = workspace.CurrentRooms.ChildAdded:Connect(function(room)
            check(room)
        end)
        
        for i,v in pairs(workspace.CurrentRooms:GetChildren()) do
            check(room)
        end
        
        repeat task.wait() until not flags.roomsnolock
        addconnect:Disconnect()
    end
end)



if game.ReplicatedStorage:WaitForChild("GameData"):WaitForChild("Floor").Value == "Rooms" then
    local window_rooms = library.window("the rooms")
    
    local a90remote = game.ReplicatedStorage:WaitForChild("EntityInfo"):WaitForChild("A90")
    
    window_rooms.toggle("harmless A90",false,function(val)
        flags.noa90 = val
        
        if val  then
            local jumpscare = plr.PlayerGui:WaitForChild("MainUI"):WaitForChild("Jumpscare"):FindFirstChild("Jumpscare_A90")
           
            if jumpscare then
                jumpscare.Parent = nil
                
                a90remote.Parent = nil
                repeat task.wait()
                    game.SoundService.Main.Volume = 1 
                until not flags.noa90
                jumpscare.Parent = plr.PlayerGui.MainUI.Jumpscare
                a90remote.Parent = entityinfo 
            end
        end
    end)
    
    window_rooms.toggle("auto a-1000",false,function(val)
        flags.autorooms = val
        
        if val then
            local hide = false

            local function getrecentroom(index)
                local rooms = workspace.CurrentRooms:GetChildren() 
                table.sort(rooms,function(a,b)
                    return tonumber(a.Name) > tonumber(b.Name) 
                end)
                
                return rooms[index]
            end
            
            local entconnect
            entconnect = workspace.ChildAdded:Connect(function(v)
                if v:IsA("Model") then
                    if v.Name == "A60" or v.Name == "A120" then
                        hide = true
                        
                        repeat task.wait() until not v:IsDescendantOf(workspace)
                        hide = false
                    end
                end
            end)
            
            while flags.autorooms do
                local room = getrecentroom(2)
                local door = room:WaitForChild("Door")
                local dpos = door:GetPivot()
                
                if hide then
                    repeat task.wait()
                        char:PivotTo(dpos+Vector3.new(0,150,0))
                    until not hide
                else
                    repeat task.wait()
                        char:PivotTo(dpos)
                    until lastroom ~= room or not flags.autorooms
                end
                
                task.wait()
            end
            entconnect:Disconnect()
        end
    end)
end


   
   else
       game.Players.LocalPlayer:Kick("加群白嫖群号去问")--踢人函数
   end
